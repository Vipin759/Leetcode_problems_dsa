import heapq
from typing import List

class Solution:
    def minCost(self, n: int, edges: List[List[int]]) -> int:
        
        # Create adjacency lists for original and reversed edges
        adj_list = [[] for _ in range(n)]
        rev_adj_list = [[] for _ in range(n)]

        for u, v, w in edges:
            adj_list[u].append((v, w))
            rev_adj_list[v].append((u, 2 * w))
        
        # Initialize distances for Dijkstra's algorithm
        distance = [float("inf")] * n
        distance[0] = 0

        # Priority queue for Dijkstra's, storing (cost, node)
        min_heap = []
        heapq.heappush(min_heap, (0, 0))

        while min_heap:
            dist, node = heapq.heappop(min_heap)

            # Explore neighbors using original edges
            for ngbr, ngbr_dist in adj_list[node]:
                if dist + ngbr_dist < distance[ngbr]:
                    distance[ngbr] = dist + ngbr_dist
                    heapq.heappush(min_heap, (distance[ngbr], ngbr))
            
            # Explore neighbors using reversed edges
            for ngbr, ngbr_dist in rev_adj_list[node]:
                if dist + ngbr_dist < distance[ngbr]:
                    distance[ngbr] = dist + ngbr_dist
                    heapq.heappush(min_heap, (distance[ngbr], ngbr))

        # Return the minimum cost to reach the destination, or -1 if unreachable
        if distance[-1] == float("inf"):
            return -1
        else:
            return distance[-1]
